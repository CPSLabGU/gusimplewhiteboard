include $(GNUSTEP_MAKEFILES)/common.make

BUNDLE_NAME = OCUNIT_MODULE

OCUNIT_MODULE_HEADER_FILES	+= SimpleWhiteboardTest.h
OCUNIT_MODULE_OBJCC_FILES	+= SimpleWhiteboardTest.mm
OCUNIT_MODULE_CC_FILES		+= UTIL_SRCS
OCUNIT_MODULE_CC_FILES		+= NEW_WHITEBOARD_SRCS
OCUNIT_MODULE_CC_FILES		+= WHITEBOARD_PRIVATE_CCS
OCUNIT_MODULE_C_FILES		+= WHITEBOARD_PRIVATE_CS

OCUNIT_MODULE_OBJC_LIBS		+= -lSenFoundation
OCUNIT_MODULE_OBJC_LIBS		+= -lSenTestingKit
OCUNIT_MODULE_OBJC_LIBS		+= -lXCTest

ADDITIONAL_CPPFLAGS  = -Wall -Wno-import
ADDITIONAL_CPPFLAGS += -IWBDIR
ADDITIONAL_CPPFLAGS += -IWBDIR/typeClassDefs
ADDITIONAL_CPPFLAGS += -D_BSD_SOURCE -D__USE_BSD -D_POSIX_SOURCE=2
ADDITIONAL_CPPFLAGS += -I`echo /usr/include/c++/* | tr ' ' '\n' | head -n1` -I`echo /usr/include/*-linux-gnu/c++/* | tr ' ' '\n' | head -n1`
ADDITIONAL_CPPFLAGS+=-D__STRICT_ANSI__ 
ADDITIONAL_OBJCFLAGS+= OBJCINC -Wno-idiomatic-parentheses -std=c99
ADDITIONAL_OBJCCFLAGS+=OBJCINC -Wno-idiomatic-parentheses -std=gnu++11
ADDITIONAL_OBJCCFLAGS+=CXXSTD
ADDITIONAL_OBJCCFLAGS+=HOST_CXXFLAGS
ADDITIONAL_LDFLAGS  += SPECIFIC_LIBS
ADDITIONAL_LDFLAGS  += CXX_LIBS
ADDITIONAL_LDFLAGS  += BSDLIB
ADDITIONAL_LDFLAGS  += -lobjcxx

include $(GNUSTEP_MAKEFILES)/bundle.make
